{
    "collab_server" : "",
    "contents" : "<!DOCTYPE html>\n<html lang=\"en\" ng-app=\"myApp\">\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <meta name=\"description\" content=\"\">\n  <meta name=\"author\" content=\"\">\n\n  <title>Stat.iPCA </title>\n  <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js\"></script>\n\t<script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js\"></script>\n\t<script src=\"https://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-2.2.0.js\"></script>\n\t<script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-route.min.js\"></script>\n\t<script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-resource.min.js\"></script>\n  <script type=\"text/javascript\" src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"></script>\n  <script type=\"text/javascript\" src=\"spin.js\"></script>\n  <script type=\"text/javascript\" src=\"spinner.js\"></script>\n  <script type=\"text/javascript\" src=\"opencpu-0.5.js\"></script>\n  <!--<script src=\"https://code.highcharts.com/highcharts.js\"></script>-->\n  <script src=\"http://code.highcharts.com/stock/highstock.js\"></script>\n  <script src=\"http://code.highcharts.com/stock/modules/exporting.js\"></script>\n  <!--<script src=\"https://code.highcharts.com/modules/exporting.js\"></script>-->\n  <script src=\"http://www.numericjs.com/lib/numeric-1.2.6.min.js\"></script>\n  <script type=\"text/javascript\" src=\"palette.js\"></script>\n  <script type=\"text/javascript\" src=\"WCMC.Stat.iPCA.js\"></script>\n\n\n  <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n  <link href=\"sb-admin-2.min.css\" rel=\"stylesheet\">\n  <link href=\"font-awesome.css\" rel=\"stylesheet\">\n  <link href=\"WCMC.Stat.iPCA.css\" rel=\"stylesheet\">\n</head>\n\n<body ng-controller=\"ctr\">\n\n  <div >\n    <!-- Navigation -->\n    <nav class=\"navbar navbar-default navbar-static-top\" role=\"navigation\" style=\"margin-bottom: 0\">\n        <div class=\"navbar-header\">\n            <a class=\"navbar-brand\" href=\"#\">iPCA: interactive Principal Componponent Analysis.</a>\n        </div>\n    </nav>\n\n\n    <div>\n      <div class=\"container-fluid\">\n        <!-- Page Heading -->\n        <div class=\"row\">\n          <div class=\"col-lg-12\">\n          </div>\n        </div>\n        <!-- /.row -->\n        <!-- Main content -->\n\t\t<div class=\"row\"> <!-- Data File Input -->\n          <div class=\"col-lg-12\">\n            <div class=\"panel panel-info\">\n              <div class=\"panel-heading\">\n                <h3 class=\"panel-title\"><a data-toggle=\"collapse\" data-target=\"#input\" href=\"#\">Input</a></h3>\n              </div>\n              <div id=\"input\" class=\"panel-body collapse in\">\n                <form role=\"form\">\n                  <div class=\"form-group\">\n                    <textarea class=\"form-control\" id=\"rawinput\" name=\"txtinput\" rows=\"5\" placeholder = \"paste your input here.\"></textarea>\n                    <span for=\"rawinput\"><a href=\"sample.txt\" target=\"_blank\"> Example Data File </a></span><a href=\"instruction.png\" target=\"_blank\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-html=\"true\" title=\"format explaination\"><i class=\"fa fa-question-circle\"></i></a>&nbsp;<a href=\"instruction2.png\" target=\"_blank\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-html=\"true\" title=\"more instruction\"><i class=\"fa fa-exclamation-circle\"></i></a>&nbsp;<a href=\"template.xlsx\" target=\"_blank\" data-toggle=\"tooltip\" data-placement=\"bottom\" data-html=\"true\" title=\"download format\"><i class=\"fa fa-download\"></i></a>\n                    <p></p>\n              </div>\n                  <!-- /.row -->\n                  <label class=\"checkbox-inline\">\n                    <input type=\"checkbox\" id=\"center\" checked>Center data\n                  </label>\n                  <label class=\"checkbox-inline\">\n                    <input type=\"checkbox\" id='scale' checked>Scale data\n                  </label>\n                </form>\n                <button id=\"compute\" type=\"button\" class=\"btn btn-primary\" ng-model='compute' ng-click='run()'>Run</button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n\n\t\t<div class=\"row\"> <!-- Output -->\n          <div class=\"col-lg-12\">\n            <div class=\"panel panel-success\">\n              <div class=\"panel-heading\" >\n                <h3 class=\"panel-title\"><a data-toggle=\"collapse\" data-target=\"#output\" href=\"#\" class=\"collapsed\" id=\"outputpanelheader\">Output</a></h3>\n              </div>\n              <div id=\"output\" class=\"panel-body collapse\">\n                <div class=\"row\">\n                <div class=\"col-lg-3\">\n                  <form>\n                    <div class=\"form-group\">\n                      <label for=\"dataType\">Nature Of Data:</label>\n                      <label class=\"radio-inline\">\n                        <input type=\"radio\" ng-model=\"plotType\" name=\"plotType\" value='score'>score plot\n                      </label>\n                      <label class=\"radio-inline\">\n                        <input type=\"radio\" ng-model=\"plotType\" name=\"plotType\" value='loading'>loadings plot\n                      </label>\n                    </div>\n                  </form>\n                </div>\n                <div class=\"col-lg-6\">\n                  <div id=\"score\" style=\"margin: 0 auto; height:{{height}}px;width:{{width}}px\" ng-show=\"plotType=='score'\"></div>\n                 <!--<div id=\"loading\" style=\"margin: 0 auto; height:{{height}}px;width:{{width}}px\" ng-show=\"plotType=='loading'\"></div>-->\n                </div>\n                <div class=\"col-lg-3\">\n                  <form>\n                      <div class=\"form-group\">\n                        <label for=\"color\">Color:</label>\n                        <select class=\"form-control input-large\" id=\"color\" ng-model='color'>\n                          <option ng-repeat=\"p_name in p_names\" value = '{{p_name}}'>{{p_name}}</option>\n                        </select>\n                      </div>\n                      <div class=\"form-group\">\n                        <label for=\"shape\">Shapes:</label>\n                        <select class=\"form-control input-large\" id=\"shape\" disabled>\n                          <option ng-repeat=\"p_name in p_names\" value = '{{p_name}}'>{{p_name}}</option>\n                        </select>\n                      </div>\n                        <div class=\"form-group\">\n                          <label for=\"xaxis\">X-axis:</label>\n                          <select class=\"form-control input-large col-xs-6\" id=\"xaxis\" ng-model=\"xaxis\">\n                            <option ng-repeat=\"xaxisOption in xaxisOptions\" value = '{{xaxisOption}}'>PC{{xaxisOption}}</option>\n                          </select>\n                        </div>\n                        <div class=\"form-group\">\n                          <label for=\"yaxis\">Y-axis:</label>\n                          <select class=\"form-control input-large col-xs-6\" id=\"yaxis\" ng-model=\"yaxis\">\n                            <option ng-repeat=\"yaxisOption in yaxisOptions\" value = '{{yaxisOption}}'>PC{{yaxisOption}}</option>\n                          </select>\n                        </div><br/>\n                        <div class=\"form-group\">\n                          <div class=\"checkbox\">\n                            <label><input type=\"checkbox\" value=\"3d\" disabled>3D</label>\n                          </div>\n                        </div>\n                    <button type=\"submit\" class=\"btn btn-primary\" ng-click='dataRelatedUpdate()'>Update</button>\n                  </form>\n                </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"col-lg-10 col-md-offset-1\">\n                        <div id=\"container\" style=\"height: 400px; min-width: 600px\"></div>aaa\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n\t\t<div class=\"row\"> <!-- Instructions -->\n          <div class=\"col-lg-12\">\n            <div class=\"panel panel-warning\">\n              <div class=\"panel-heading\" >\n                <h3 class=\"panel-title\"><a data-toggle=\"collapse\" data-target=\"#instrtuction\" href=\"#\" class=\"collapsed\">Instruction</a></h3>\n              </div>\n              <div id=\"instrtuction\" class=\"panel-body collapse\">\n                <p>iPCA Normalization aims at achieving the same distribution of metabolic feature intensities across all samples, and the quantile-quantile plot in this method is used to visualize the distribution similarity. iPCA normalization has been used to probe differential molecular profiling between pancreatic adenocarcinoma and chronic pancreatitis, and currently adopted to improve NMR-based metabolomics analysis.</p>\n<button type=\"button\" class=\"btn btn-primary btn-circle\" id=\"codeToggle\"><b>R</b></button>\n<div class=\"well well-sm\" id='code' style=\"display:none;\">\n<pre><code>mainApp = function(input){\n  library(pacman)\n  pacman::p_load(data.table,affy)\n  input = gsub(\"\\r\",\"\",input)\n  cfile = strsplit(input,\"\\n\")[[1]]\n  df1 = as.data.frame(do.call(rbind,lapply(cfile,function(x){strsplit(x,\"\\t\")[[1]]})),stringsAsFactors = F)\n  colnames(df1) = as.matrix(df1[1,])[1,]\n  df1 = df1[-1,]\n  data = sapply(df1[,-1], as.numeric)\n\n  normalize.quantile=get(\"normalize.quantiles\", en = asNamespace(\"affy\"))\n  result = normalize.quantile(data)\n\n  result = cbind(data.frame(df1[,1]),result)\n  rownames(result) = 1:nrow(result)\n  colnames(result) = colnames(df1)\n  fwrite(data.table(result),\"iPCA-normalization.csv\")\n  fwrite(data.table(result),\"iPCA-normalization.txt\",sep = \"\\t\")\n  return(result)\n}</code></pre>\n                    </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n\n\n\n\t\t<div class=\"row\"> <!-- Citations -->\n          <div class=\"col-lg-12\">\n            <div class=\"panel panel-default\">\n              <div class=\"panel-heading\">\n                <h3 class=\"panel-title\"><a data-toggle=\"collapse\" data-target=\"#citations\" href=\"#\">Citations</a></h3>\n            </div>\n              <div id=\"citations\" class=\"panel-body collapse in\">\n                <p>Bolstad BM, Irizarry RA, Ã…strand M, Speed TP. A comparison of normalization methods for high density oligonucleotide array data based on variance and bias. Bioinformatics. 2003 Jan 22;19(2):185-93. <a href=\"https://academic.oup.com/bioinformatics/article/19/2/185/372664\">372664</a></p>\n                <p>Kohl SM, Klein MS, Hochrein J, Oefner PJ, Spang R, Gronwald W. State-of-the art data normalization methods improve NMR-based metabolomic analysis. Metabolomics. 2012 Jun 1;8(1):146-60. <a href='http://link.springer.com/article/10.1007/s11306-011-0350-z'>s11306-011-0350-z</a></p>\n                <p>Li B, Tang J, Yang Q, Cui X, Li S, Chen S, Cao Q, Xue W, Chen N, Zhu F. Performance Evaluation and Online Realization of Data-driven Normalization Methods Used in LC/MS based Untargeted Metabolomics Analysis. Scientific Reports. 2016;6. <a href=\"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5153651/\">PMC5153651</a></p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n\n      <!-- notify box -->\n        <div id=\"spinner\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" data-keyboard=\"false\" data-backdrop=\"static\">\n          <div class=\"modal-dialog\"><div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\n              <h4>Computing ...</h4>\n              <span id=\"notifyTxt\"></span>\n            </div>\n            <div class=\"modal-body\"><div style=\"height:200px\">\n              <span id=\"loading_spinner\" style=\"position: absolute;display: block;top: 50%;left: 50%;\"></span>\n            </div></div>\n          </div></div>\n        </div>\n        <!-- /.notify box -->\n\n\n\n      </div>\n      <!-- /.container-fluid -->\n    </div>\n    <!-- /#page-wrapper -->\n  </div>\n  <!-- /#wrapper -->\n\n\n</body>\n\n\n\n\n\n</html>\n",
    "created" : 1487456882281.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3003350361",
    "id" : "468EC7F0",
    "lastKnownWriteTime" : 1487624847,
    "last_content_update" : 1487624847413,
    "path" : "~/GitHub/WCMC_DA/WCMC.Stat.iPCA/inst/www/index.html",
    "project_path" : "inst/www/index.html",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "html"
}